var l;(e=>(e.statically="https://cdn.statically.io/gh/{owner}/{repo}/{branch}/{file}",e.githack="https://raw.githack.com/{owner}/{repo}/{branch}/{file}",e.GITHACK="githack",e.STATICALLY="statically",e.old_version="https://{owner}.github.io/{repo}/{file}",e.gh_api="https://api.github.com/repos/{owner}/{repo}/pulls/{number}",e.html_diff="https://services.w3.org/htmldiff?doc1={old}&doc2={new}",e.spec_gen="https://labs.w3.org/spec-generator/?type=respec&url={url}",e.markdown=`
See:

* [Preview]({preview})
* [Diff]({diff})
`))(l||={});function y(r,t,o,c,s="index.html"){let i=b=>b.replace(/\?/g,"%3F").replace(/&/g,"%26"),a=t.head.repo.full_name.split("/"),m={owner:a[0],repo:a[1]},n={branch:t.head.ref},p=(o===l.GITHACK?l.githack:l.statically).replace("{owner}",m.owner).replace("{repo}",m.repo).replace("{branch}",n.branch).replace("{file}",s),u=l.old_version.replace("{owner}",r.owner).replace("{repo}",r.repo).replace("{file}",s),w=c?i(l.spec_gen.replace("{url}",p)):p,x=c?i(l.spec_gen.replace("{url}",u)):u;return{new:p,diff:l.html_diff.replace("{old}",x).replace("{new}",w)}}async function _(r,t,o=!0,c=["index.html"]){let s=async p=>await(await fetch(p)).json(),i=new URL(r).pathname.split("/"),a={owner:i[1],repo:i[2]},m=i[4],n=l.gh_api.replace("{owner}",a.owner).replace("{repo}",a.repo).replace("{number}",m),e=await s(n);return c.map(p=>y(a,e,t,o,p))}var h="EPUB 3",d="epub-specs",f="w3c",g=[{path:"epub34/overview/index.html",title:"EPUB 3 Overview",short_name:"overview"},{path:"epub34/authoring/index.html",title:"EPUB 3.4",short_name:"core"},{path:"epub34/rs/index.html",title:"EPUB 3.4 Reading Systems",short_name:"rs"},{path:"epub34/annotations/index.html",title:"EPUB 3 Annotations",short_name:"epub-ann"},{path:"wg-notes/annotations-ucr/index.html",title:"EPUB Annotations Use Cases and Requirements",short_name:"epub-ann-ucr"},{path:"wg-notes/multi-rend/index.html",title:"EPUB Multiple-Rendition Publications",short_name:"multi-rend"},{path:"wg-notes/tts/index.html",title:"EPUB 3 Text-to-Speech Enhancements",short_name:"tts"},{path:"epub34/a11y/index.html",title:"EPUB Accessibility 1.1.1",short_name:"a11y"},{path:"epub34/a11y-tech/index.html",title:"EPUB Accessibility Techniques",short_name:"a11y-tech"},{path:"wg-notes/epub-a11y-eaa-mapping/index.html",title:"EPUB Accessibility - EU Accessibility Act Mapping",short_name:"epub-a11y-eaa-mapping"},{path:"wg-notes/a11y-exemption/index.html",title:"The EPUB Accessibility exemption property",short_name:"a11y-exemption"},{path:"wg-notes/fxl-a11y/index.html",title:"EPUB Fixed Layout Accessibility",short_name:"fxl-a11y"},{path:"wg-notes/fxl-a11y-tech/index.html",title:"EPUB Fixed Layout Accessibility Techniques",short_name:"fxl-a11y-tech"},{path:"wg-notes/ssv/index.html",title:"EPUB 3 Structural Semantics Vocabulary",short_name:"fxl-a11y-tech"}];var P=`
See:

`,U=`* For {title}:
    * [Preview]({preview})
    * [Diff]({diff})
`;function B(){let r=i=>'<input type="checkbox" name="{short_name}" id="{short_name}"><label for="{short_name}">{title}</label><br>\xA0\xA0'.replaceAll("{short_name}",i.short_name).replaceAll("{title}",i.title),t=document.getElementsByTagName("title").item(0);t&&t.textContent&&(t.textContent=t.textContent.replace("{title}",h));let o=document.querySelector("header h1");o&&o.textContent&&(o.textContent=o.textContent.replaceAll("{title}",h));let c=["Specifications:<br/>\xA0\xA0",...g.map(r)].join(`
`).slice(0,-6),s=document.getElementById("spec_choices");s&&(s.innerHTML=c)}async function L(r){try{let t=document.getElementById("number"),o=(n=>{if(n)return`https://github.com/${f}/${d}/pull/${n}`;throw"No PR number has been provided."})(t.value),c=document.getElementById("service"),s=g.filter(n=>{let e=document.getElementById(n.short_name);return!(e===null||e.checked===!1)}),a=(await _(o,c.value,!0,s.map(n=>n.path))).reduce((n,e,p)=>n+U.replace("{title}",s[p].title).replace("{preview}",e.new).replace("{diff}",e.diff),""),m=document.getElementById("markdown");m.value=P+a}catch(t){alert(`preview error: ${t}`)}}globalThis.addEventListener("load",()=>{B();let r=document.getElementById("go");r&&r.addEventListener("click",L)});
