(function(e){e.statically="https://cdn.statically.io/gh/{owner}/{repo}/{branch}/{file}",e.githack="https://raw.githack.com/{owner}/{repo}/{branch}/{file}",e.GITHACK="githack",e.STATICALLY="statically",e.old_version="https://{owner}.github.io/{repo}/{file}",e.gh_api="https://api.github.com/repos/{owner}/{repo}/pulls/{number}",e.html_diff="https://services.w3.org/htmldiff?doc1={old}&doc2={new}",e.spec_gen="https://labs.w3.org/spec-generator/?type=respec&url={url}",e.markdown=`
See:

* [Preview]({preview})
* [Diff]({diff})
`})(a||(a={}));function x(e,t,r,l,o="index.html"){let i=y=>y.replace(/\?/g,"%3F").replace(/&/g,"%26"),s=t.head.repo.full_name.split("/"),h={owner:s[0],repo:s[1]},n={branch:t.head.ref},c=(r===a.GITHACK?a.githack:a.statically).replace("{owner}",h.owner).replace("{repo}",h.repo).replace("{branch}",n.branch).replace("{file}",o),u=a.old_version.replace("{owner}",e.owner).replace("{repo}",e.repo).replace("{file}",o),g=l?i(a.spec_gen.replace("{url}",c)):c,b=l?i(a.spec_gen.replace("{url}",u)):u;return{new:c,diff:a.html_diff.replace("{old}",b).replace("{new}",g)}}async function w(e,t,r=!0,l=["index.html"]){let o=async c=>await(await fetch(c)).json(),i=new URL(e).pathname.split("/"),s={owner:i[1],repo:i[2]},h=i[4],n=a.gh_api.replace("{owner}",s.owner).replace("{repo}",s.repo).replace("{number}",h),p=await o(n);return l.map(c=>x(s,p,t,r,c))}var a;var m="EPUB 3",_="epub-specs",f="w3c",d=[{path:"epub34/overview/index.html",title:"EPUB 3 Overview",short_name:"overview"},{path:"epub34/authoring/index.html",title:"EPUB 3.4",short_name:"core"},{path:"epub34/rs/index.html",title:"EPUB 3.4 Reading Systems",short_name:"rs"},{path:"epub34/annotations/index.html",title:"EPUB 3 Annotations",short_name:"epub-ann"},{path:"wg-notes/annotations-ucr/index.html",title:"EPUB Annotations Use Cases and Requirements",short_name:"epub-ann-ucr"},{path:"wg-notes/multi-rend/index.html",title:"EPUB Multiple-Rendition Publications",short_name:"multi-rend"},{path:"wg-notes/tts/index.html",title:"EPUB 3 Text-to-Speech Enhancements",short_name:"tts"},{path:"epub34/a11y/index.html",title:"EPUB Accessibility 1.1.1",short_name:"a11y"},{path:"epub34/a11y-tech/index.html",title:"EPUB Accessibility Techniques",short_name:"a11y-tech"},{path:"wg-notes/epub-a11y-eaa-mapping/index.html",title:"EPUB Accessibility - EU Accessibility Act Mapping",short_name:"epub-a11y-eaa-mapping"},{path:"wg-notes/a11y-exemption/index.html",title:"The EPUB Accessibility exemption property",short_name:"a11y-exemption"},{path:"wg-notes/fxl-a11y/index.html",title:"EPUB Fixed Layout Accessibility",short_name:"fxl-a11y"},{path:"wg-notes/fxl-a11y-tech/index.html",title:"EPUB Fixed Layout Accessibility Techniques",short_name:"fxl-a11y-tech"},{path:"wg-notes/ssv/index.html",title:"EPUB 3 Structural Semantics Vocabulary",short_name:"fxl-a11y-tech"}];var B=`
See:

`,P=`* For {title}:
    * [Preview]({preview})
    * [Diff]({diff})
`;function U(){let e=i=>'<input type="checkbox" name="{short_name}" id="{short_name}"><label for="{short_name}">{title}</label><br>\xA0\xA0'.replaceAll("{short_name}",i.short_name).replaceAll("{title}",i.title),t=document.getElementsByTagName("title").item(0);t&&t.textContent&&(t.textContent=t.textContent.replace("{title}",m));let r=document.querySelector("header h1");r&&r.textContent&&(r.textContent=r.textContent.replaceAll("{title}",m));let l=["Specifications:<br/>\xA0\xA0",...d.map(e)].join(`
`).slice(0,-6),o=document.getElementById("spec_choices");o&&(o.innerHTML=l)}async function A(e){try{let t=document.getElementById("number"),r=(n=>{if(n)return`https://github.com/${f}/${_}/pull/${n}`;throw"No PR number has been provided."})(t.value),l=document.getElementById("service"),o=d.filter(n=>{let p=document.getElementById(n.short_name);return!(p===null||p.checked===!1)}),s=(await w(r,l.value,!0,o.map(n=>n.path))).reduce((n,p,c)=>n+P.replace("{title}",o[c].title).replace("{preview}",p.new).replace("{diff}",p.diff),""),h=document.getElementById("markdown");h.value=B+s}catch(t){alert(`preview error: ${t}`)}}globalThis.addEventListener("load",()=>{U();let e=document.getElementById("go");e&&e.addEventListener("click",A)});
